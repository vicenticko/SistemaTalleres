<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Registro de Talleres</ion-title>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" style="--background: url('assets/img/palmeras.jpg') no-repeat center center / cover;">
  <ion-card class="registro-card">
    <form [formGroup]="taller" (ngSubmit)="registrar()">

      <!-- Campo Código -->
      <ion-item class="input-item">
        <ion-input 
          formControlName="codigo" 
          type="text" 
          labelPlacement="stacked" 
          label="Código" 
          placeholder="Ingresa el código del taller">
        </ion-input>
      </ion-item>

      <!-- Campo Nombre -->
      <ion-item class="input-item">
        <ion-input 
          formControlName="nombre" 
          type="text" 
          labelPlacement="stacked" 
          label="Nombre" 
          placeholder="Ingresa el nombre del taller">
        </ion-input>
      </ion-item>

      <!-- Campo Horas -->
      <ion-item class="input-item">
        <ion-input 
          formControlName="horas" 
          type="number" 
          labelPlacement="stacked" 
          label="Horas" 
          placeholder="Ingresa las horas del taller">
        </ion-input>
      </ion-item>

      <!-- Campo Descripción -->
      <ion-item class="input-item">
        <ion-textarea 
          formControlName="descripcion" 
          labelPlacement="stacked" 
          label="Descripción" 
          placeholder="Describe el taller">
        </ion-textarea>
      </ion-item>

      <!-- Campo Instructor -->
      <ion-item class="input-item">
        <ion-input 
          formControlName="instructor" 
          type="text" 
          labelPlacement="stacked" 
          label="Instructor" 
          placeholder="Ingresa el nombre del instructor (opcional)">
        </ion-input>
      </ion-item>

      <!-- Botón de Registrar -->
      <ion-button 
        [disabled]="taller.invalid" 
        type="submit" 
        size="block" 
        color="warning" 
        class="submit-button">
        REGISTRAR
      </ion-button>

      <!-- Botón de Modificar -->
      <ion-button 
        (click)="modificar()"
        [disabled]="taller.invalid" 
        size="block"
        class="submit-button">
        MODIFICAR
      </ion-button>

      <!-- Botón de Limpiar -->
      <ion-button 
        (click)="limpiar()"
        color="tertiary"
        type="reset"
        size="block"
        class="submit-button">
        Limpiar
      </ion-button>

    </form>
  </ion-card>

  <ion-card class="registro-card">
    <!-- Mostrar mensaje si no hay talleres -->
    <ion-list *ngIf="talleres.length === 0" style="color: white; background: transparent;">
      <ion-item>
        <ion-label>No hay talleres registrados.</ion-label>
      </ion-item>
    </ion-list>
  
    <!-- Mostrar lista de talleres si existen -->
    <ion-list *ngIf="talleres.length > 0" style="color: white; background: transparent;">
      <ion-item-sliding *ngFor="let taller of talleres">
        <ion-item-options side="start">
          <ion-item-option (click)="buscar(taller)" color="warning">Buscar</ion-item-option>
        </ion-item-options>
  
        <ion-item>{{taller.nombre}}</ion-item>
  
        <ion-item-options side="end">
          <ion-item-option (click)="eliminar(taller.codigo)" color="danger">Eliminar</ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>
  </ion-card>
  

</ion-content>
